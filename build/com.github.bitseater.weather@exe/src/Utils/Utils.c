/* Utils.c generated by valac 0.36.12, the Vala compiler
 * generated from Utils.vala, do not modify */

/*
* Copyright (c) 2017-2018 Carlos Suárez (https://github.com/bitseater)
*
* This program is free software; you can redistribute it and/or
* modify it under the terms of the GNU General Public
* License as published by the Free Software Foundation; either
* version 3 of the License, or (at your option) any later version.
*
* This program is distributed in the hope that it will be useful,
* but WITHOUT ANY WARRANTY; without even the implied warranty of
* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
* General Public License for more details.
*
* You should have received a copy of the GNU General Public
* License along with this program; If not, see <http://www.gnu.org/licenses/>.
*
* Authored by: Carlos Suárez <bitseater@gmail.com>
*/

#include <glib.h>
#include <glib-object.h>
#include <float.h>
#include <math.h>
#include <stdlib.h>
#include <string.h>
#include <gtk/gtk.h>
#include <pango/pango.h>

#define _g_free0(var) (var = (g_free (var), NULL))



gchar* weather_utils_to_string2 (gdouble d);
gchar* weather_utils_to_string0 (gdouble d);
gchar* weather_utils_get_units (void);


gchar* weather_utils_to_string2 (gdouble d) {
	gchar* result = NULL;
	gchar* cadena = NULL;
	gchar* _tmp0_;
	gint cadena_length1;
	gint _cadena_size_;
	gdouble _tmp1_;
	gchar* texto = NULL;
	gchar* _tmp2_;
#line 22 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
	_tmp0_ = g_new0 (gchar, 16);
#line 22 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
	cadena = _tmp0_;
#line 22 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
	cadena_length1 = 16;
#line 22 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
	_cadena_size_ = cadena_length1;
#line 23 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
	_tmp1_ = d;
#line 23 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
	g_ascii_formatd (cadena, cadena_length1, "%-.2f", _tmp1_);
#line 24 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
	_tmp2_ = g_strdup ((const gchar*) cadena);
#line 24 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
	texto = _tmp2_;
#line 25 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
	result = texto;
#line 25 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
	cadena = (g_free (cadena), NULL);
#line 25 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
	return result;
#line 73 "Utils.c"
}


gchar* weather_utils_to_string0 (gdouble d) {
	gchar* result = NULL;
	gchar* cadena = NULL;
	gchar* _tmp0_;
	gint cadena_length1;
	gint _cadena_size_;
	gdouble _tmp1_;
	gchar* texto = NULL;
	gchar* _tmp2_;
#line 29 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
	_tmp0_ = g_new0 (gchar, 16);
#line 29 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
	cadena = _tmp0_;
#line 29 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
	cadena_length1 = 16;
#line 29 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
	_cadena_size_ = cadena_length1;
#line 30 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
	_tmp1_ = d;
#line 30 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
	g_ascii_formatd (cadena, cadena_length1, "%-.0f", _tmp1_);
#line 31 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
	_tmp2_ = g_strdup ((const gchar*) cadena);
#line 31 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
	texto = _tmp2_;
#line 32 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
	result = texto;
#line 32 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
	cadena = (g_free (cadena), NULL);
#line 32 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
	return result;
#line 108 "Utils.c"
}


static glong string_strnlen (gchar* str, glong maxlen) {
	glong result = 0L;
	gchar* end = NULL;
	gchar* _tmp0_;
	glong _tmp1_;
	gchar* _tmp2_;
	gchar* _tmp3_;
#line 1322 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
	_tmp0_ = str;
#line 1322 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
	_tmp1_ = maxlen;
#line 1322 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
	_tmp2_ = memchr (_tmp0_, 0, (gsize) _tmp1_);
#line 1322 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
	end = _tmp2_;
#line 1323 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
	_tmp3_ = end;
#line 1323 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
	if (_tmp3_ == NULL) {
#line 131 "Utils.c"
		glong _tmp4_;
#line 1324 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
		_tmp4_ = maxlen;
#line 1324 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
		result = _tmp4_;
#line 1324 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
		return result;
#line 139 "Utils.c"
	} else {
		gchar* _tmp5_;
		gchar* _tmp6_;
#line 1326 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
		_tmp5_ = end;
#line 1326 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
		_tmp6_ = str;
#line 1326 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
		result = (glong) (_tmp5_ - _tmp6_);
#line 1326 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
		return result;
#line 151 "Utils.c"
	}
}


static gchar* string_substring (const gchar* self, glong offset, glong len) {
	gchar* result = NULL;
	glong string_length = 0L;
	gboolean _tmp0_ = FALSE;
	glong _tmp1_;
	glong _tmp8_;
	glong _tmp14_;
	glong _tmp17_;
	glong _tmp18_;
	glong _tmp19_;
	glong _tmp20_;
	glong _tmp21_;
	gchar* _tmp22_;
#line 1333 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
	g_return_val_if_fail (self != NULL, NULL);
#line 1335 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
	_tmp1_ = offset;
#line 1335 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
	if (_tmp1_ >= ((glong) 0)) {
#line 175 "Utils.c"
		glong _tmp2_;
#line 1335 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
		_tmp2_ = len;
#line 1335 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
		_tmp0_ = _tmp2_ >= ((glong) 0);
#line 181 "Utils.c"
	} else {
#line 1335 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
		_tmp0_ = FALSE;
#line 185 "Utils.c"
	}
#line 1335 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
	if (_tmp0_) {
#line 189 "Utils.c"
		glong _tmp3_;
		glong _tmp4_;
		glong _tmp5_;
#line 1337 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
		_tmp3_ = offset;
#line 1337 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
		_tmp4_ = len;
#line 1337 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
		_tmp5_ = string_strnlen ((gchar*) self, _tmp3_ + _tmp4_);
#line 1337 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
		string_length = _tmp5_;
#line 201 "Utils.c"
	} else {
		gint _tmp6_;
		gint _tmp7_;
#line 1339 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
		_tmp6_ = strlen (self);
#line 1339 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
		_tmp7_ = _tmp6_;
#line 1339 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
		string_length = (glong) _tmp7_;
#line 211 "Utils.c"
	}
#line 1342 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
	_tmp8_ = offset;
#line 1342 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
	if (_tmp8_ < ((glong) 0)) {
#line 217 "Utils.c"
		glong _tmp9_;
		glong _tmp10_;
		glong _tmp11_;
#line 1343 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
		_tmp9_ = string_length;
#line 1343 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
		_tmp10_ = offset;
#line 1343 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
		offset = _tmp9_ + _tmp10_;
#line 1344 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
		_tmp11_ = offset;
#line 1344 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
		g_return_val_if_fail (_tmp11_ >= ((glong) 0), NULL);
#line 231 "Utils.c"
	} else {
		glong _tmp12_;
		glong _tmp13_;
#line 1346 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
		_tmp12_ = offset;
#line 1346 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
		_tmp13_ = string_length;
#line 1346 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
		g_return_val_if_fail (_tmp12_ <= _tmp13_, NULL);
#line 241 "Utils.c"
	}
#line 1348 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
	_tmp14_ = len;
#line 1348 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
	if (_tmp14_ < ((glong) 0)) {
#line 247 "Utils.c"
		glong _tmp15_;
		glong _tmp16_;
#line 1349 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
		_tmp15_ = string_length;
#line 1349 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
		_tmp16_ = offset;
#line 1349 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
		len = _tmp15_ - _tmp16_;
#line 256 "Utils.c"
	}
#line 1351 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
	_tmp17_ = offset;
#line 1351 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
	_tmp18_ = len;
#line 1351 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
	_tmp19_ = string_length;
#line 1351 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
	g_return_val_if_fail ((_tmp17_ + _tmp18_) <= _tmp19_, NULL);
#line 1352 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
	_tmp20_ = offset;
#line 1352 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
	_tmp21_ = len;
#line 1352 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
	_tmp22_ = g_strndup (((gchar*) self) + _tmp20_, (gsize) _tmp21_);
#line 1352 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
	result = _tmp22_;
#line 1352 "/usr/share/vala-0.36/vapi/glib-2.0.vapi"
	return result;
#line 276 "Utils.c"
}


gchar* weather_utils_get_units (void) {
	gchar* result = NULL;
	gchar* lang = NULL;
	PangoLanguage* _tmp0_;
	const gchar* _tmp1_;
	gchar* _tmp2_;
	gchar* units = NULL;
	gchar* _tmp3_;
	const gchar* _tmp4_;
	const gchar* _tmp5_;
	GQuark _tmp7_ = 0U;
#line 38 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
	static GQuark _tmp6_label0 = 0;
#line 38 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
	static GQuark _tmp6_label1 = 0;
#line 38 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
	static GQuark _tmp6_label2 = 0;
#line 38 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
	static GQuark _tmp6_label3 = 0;
#line 36 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
	_tmp0_ = gtk_get_default_language ();
#line 36 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
	_tmp1_ = pango_language_to_string (_tmp0_);
#line 36 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
	_tmp2_ = string_substring (_tmp1_, (glong) 0, (glong) 2);
#line 36 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
	lang = _tmp2_;
#line 37 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
	_tmp3_ = g_strdup ("");
#line 37 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
	units = _tmp3_;
#line 38 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
	_tmp4_ = lang;
#line 38 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
	_tmp5_ = _tmp4_;
#line 38 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
	_tmp7_ = (NULL == _tmp5_) ? 0 : g_quark_from_string (_tmp5_);
#line 38 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
	if (_tmp7_ == ((0 != _tmp6_label0) ? _tmp6_label0 : (_tmp6_label0 = g_quark_from_static_string ("C")))) {
#line 38 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
		switch (0) {
#line 321 "Utils.c"
			default:
			{
				gchar* _tmp8_;
#line 40 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
				_tmp8_ = g_strdup ("imperial");
#line 40 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
				_g_free0 (units);
#line 40 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
				units = _tmp8_;
#line 41 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
				break;
#line 333 "Utils.c"
			}
		}
	} else if (_tmp7_ == ((0 != _tmp6_label1) ? _tmp6_label1 : (_tmp6_label1 = g_quark_from_static_string ("en_US")))) {
#line 38 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
		switch (0) {
#line 339 "Utils.c"
			default:
			{
				gchar* _tmp9_;
#line 43 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
				_tmp9_ = g_strdup ("imperial");
#line 43 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
				_g_free0 (units);
#line 43 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
				units = _tmp9_;
#line 44 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
				break;
#line 351 "Utils.c"
			}
		}
	} else if (_tmp7_ == ((0 != _tmp6_label2) ? _tmp6_label2 : (_tmp6_label2 = g_quark_from_static_string ("my_MM")))) {
#line 38 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
		switch (0) {
#line 357 "Utils.c"
			default:
			{
				gchar* _tmp10_;
#line 46 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
				_tmp10_ = g_strdup ("imperial");
#line 46 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
				_g_free0 (units);
#line 46 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
				units = _tmp10_;
#line 47 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
				break;
#line 369 "Utils.c"
			}
		}
	} else if (_tmp7_ == ((0 != _tmp6_label3) ? _tmp6_label3 : (_tmp6_label3 = g_quark_from_static_string ("en_GB")))) {
#line 38 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
		switch (0) {
#line 375 "Utils.c"
			default:
			{
				gchar* _tmp11_;
#line 49 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
				_tmp11_ = g_strdup ("british");
#line 49 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
				_g_free0 (units);
#line 49 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
				units = _tmp11_;
#line 50 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
				break;
#line 387 "Utils.c"
			}
		}
	} else {
#line 38 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
		switch (0) {
#line 393 "Utils.c"
			default:
			{
				gchar* _tmp12_;
#line 52 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
				_tmp12_ = g_strdup ("metric");
#line 52 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
				_g_free0 (units);
#line 52 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
				units = _tmp12_;
#line 53 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
				break;
#line 405 "Utils.c"
			}
		}
	}
#line 55 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
	result = units;
#line 55 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
	_g_free0 (lang);
#line 55 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/Utils.vala"
	return result;
#line 415 "Utils.c"
}



