/* MapCity.c generated by valac 0.36.12, the Vala compiler
 * generated from MapCity.vala, do not modify */

/*
* Copyright (c) 2017-2018 Carlos Suárez (https://github.com/bitseater)
*
* This program is free software; you can redistribute it and/or
* modify it under the terms of the GNU General Public
* License as published by the Free Software Foundation; either
* version 3 of the License, or (at your option) any later version.
*
* This program is distributed in the hope that it will be useful,
* but WITHOUT ANY WARRANTY; without even the implied warranty of
* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
* General Public License for more details.
*
* You should have received a copy of the GNU General Public
* License along with this program; If not, see <http://www.gnu.org/licenses/>.
*
* Authored by: Carlos Suárez <bitseater@gmail.com>
*/

#include <glib.h>
#include <glib-object.h>
#include <gtk/gtk.h>
#include <champlain/champlain.h>
#include <clutter/clutter.h>
#include <float.h>
#include <math.h>
#include <clutter-gtk/clutter-gtk.h>
#include <gdk-pixbuf/gdk-pixbuf.h>
#include <cogl/cogl.h>


#define WEATHER_UTILS_TYPE_MAP_CITY (weather_utils_map_city_get_type ())
#define WEATHER_UTILS_MAP_CITY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), WEATHER_UTILS_TYPE_MAP_CITY, WeatherUtilsMapCity))
#define WEATHER_UTILS_MAP_CITY_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), WEATHER_UTILS_TYPE_MAP_CITY, WeatherUtilsMapCityClass))
#define WEATHER_UTILS_IS_MAP_CITY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), WEATHER_UTILS_TYPE_MAP_CITY))
#define WEATHER_UTILS_IS_MAP_CITY_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), WEATHER_UTILS_TYPE_MAP_CITY))
#define WEATHER_UTILS_MAP_CITY_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), WEATHER_UTILS_TYPE_MAP_CITY, WeatherUtilsMapCityClass))

typedef struct _WeatherUtilsMapCity WeatherUtilsMapCity;
typedef struct _WeatherUtilsMapCityClass WeatherUtilsMapCityClass;
typedef struct _WeatherUtilsMapCityPrivate WeatherUtilsMapCityPrivate;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_error_free0(var) ((var == NULL) ? NULL : (var = (g_error_free (var), NULL)))

struct _WeatherUtilsMapCity {
	GtkPopover parent_instance;
	WeatherUtilsMapCityPrivate * priv;
};

struct _WeatherUtilsMapCityClass {
	GtkPopoverClass parent_class;
};

struct _WeatherUtilsMapCityPrivate {
	ChamplainView* view;
	ClutterStage* stage;
};


static gpointer weather_utils_map_city_parent_class = NULL;

GType weather_utils_map_city_get_type (void) G_GNUC_CONST;
#define WEATHER_UTILS_MAP_CITY_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), WEATHER_UTILS_TYPE_MAP_CITY, WeatherUtilsMapCityPrivate))
enum  {
	WEATHER_UTILS_MAP_CITY_0_PROPERTY
};
WeatherUtilsMapCity* weather_utils_map_city_new (gdouble lat, gdouble lon, GtkWidget* relative);
WeatherUtilsMapCity* weather_utils_map_city_construct (GType object_type, gdouble lat, gdouble lon, GtkWidget* relative);
static void weather_utils_map_city_finalize (GObject * obj);


static gpointer _g_object_ref0 (gpointer self) {
#line 34 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	return self ? g_object_ref (self) : NULL;
#line 79 "MapCity.c"
}


WeatherUtilsMapCity* weather_utils_map_city_construct (GType object_type, gdouble lat, gdouble lon, GtkWidget* relative) {
	WeatherUtilsMapCity * self = NULL;
	GtkWidget* _tmp0_;
	GtkScrolledWindow* popbox = NULL;
	GtkScrolledWindow* _tmp1_;
	GtkScrolledWindow* _tmp2_;
	GtkScrolledWindow* _tmp3_;
	GtkClutterEmbed* embed = NULL;
	GtkClutterEmbed* _tmp4_;
	GtkClutterEmbed* _tmp5_;
	ClutterActor* _tmp6_;
	ClutterStage* _tmp7_;
	ClutterStage* _tmp8_;
	ChamplainView* _tmp9_;
	ChamplainView* _tmp10_;
	ClutterStage* _tmp11_;
	ChamplainView* _tmp12_;
	ChamplainMarkerLayer* pointer = NULL;
	ChamplainMarkerLayer* _tmp13_;
	ChamplainMarker* marker = NULL;
	ChamplainMarker* _tmp14_;
	ChamplainMarker* _tmp49_;
	gdouble _tmp50_;
	gdouble _tmp51_;
	ChamplainMarkerLayer* _tmp52_;
	ChamplainMarker* _tmp53_;
	ChamplainView* _tmp54_;
	ChamplainMarkerLayer* _tmp55_;
	ChamplainView* _tmp56_;
	ChamplainView* _tmp57_;
	ChamplainView* _tmp58_;
	ChamplainView* _tmp59_;
	gdouble _tmp60_;
	gdouble _tmp61_;
	GtkScrolledWindow* _tmp62_;
	GtkClutterEmbed* _tmp63_;
	GtkScrolledWindow* _tmp64_;
	GError * _inner_error_ = NULL;
#line 26 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	g_return_val_if_fail (relative != NULL, NULL);
#line 26 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	self = (WeatherUtilsMapCity*) g_object_new (object_type, NULL);
#line 27 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	_tmp0_ = relative;
#line 27 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	gtk_popover_set_relative_to ((GtkPopover*) self, _tmp0_);
#line 28 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	gtk_popover_set_modal ((GtkPopover*) self, TRUE);
#line 29 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	gtk_popover_set_position ((GtkPopover*) self, GTK_POS_TOP);
#line 30 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	_tmp1_ = (GtkScrolledWindow*) gtk_scrolled_window_new (NULL, NULL);
#line 30 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	g_object_ref_sink (_tmp1_);
#line 30 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	popbox = _tmp1_;
#line 31 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	_tmp2_ = popbox;
#line 31 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	g_object_set ((GtkWidget*) _tmp2_, "width-request", 200, NULL);
#line 32 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	_tmp3_ = popbox;
#line 32 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	g_object_set ((GtkWidget*) _tmp3_, "height-request", 200, NULL);
#line 33 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	_tmp4_ = (GtkClutterEmbed*) gtk_clutter_embed_new ();
#line 33 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	g_object_ref_sink (_tmp4_);
#line 33 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	embed = _tmp4_;
#line 34 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	_tmp5_ = embed;
#line 34 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	_tmp6_ = gtk_clutter_embed_get_stage (_tmp5_);
#line 34 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	_tmp7_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp6_, clutter_stage_get_type (), ClutterStage));
#line 34 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	_g_object_unref0 (self->priv->stage);
#line 34 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	self->priv->stage = _tmp7_;
#line 35 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	_tmp8_ = self->priv->stage;
#line 35 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	clutter_actor_set_size ((ClutterActor*) _tmp8_, (gfloat) 200, (gfloat) 200);
#line 37 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	_tmp9_ = (ChamplainView*) champlain_view_new ();
#line 37 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	g_object_ref_sink (_tmp9_);
#line 37 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	_g_object_unref0 (self->priv->view);
#line 37 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	self->priv->view = _tmp9_;
#line 38 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	_tmp10_ = self->priv->view;
#line 38 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	clutter_actor_set_size ((ClutterActor*) _tmp10_, (gfloat) 200, (gfloat) 200);
#line 39 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	_tmp11_ = self->priv->stage;
#line 39 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	_tmp12_ = self->priv->view;
#line 39 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	clutter_actor_add_child ((ClutterActor*) _tmp11_, (ClutterActor*) _tmp12_);
#line 41 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	_tmp13_ = champlain_marker_layer_new ();
#line 41 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	g_object_ref_sink (_tmp13_);
#line 41 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	pointer = _tmp13_;
#line 42 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	_tmp14_ = (ChamplainMarker*) champlain_marker_new ();
#line 42 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	g_object_ref_sink (_tmp14_);
#line 42 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	marker = _tmp14_;
#line 197 "MapCity.c"
	{
		GdkPixbuf* poi = NULL;
		GtkIconTheme* _tmp15_;
		GdkPixbuf* _tmp16_;
		ClutterImage* img = NULL;
		ClutterImage* _tmp17_;
		ClutterImage* _tmp18_;
		GdkPixbuf* _tmp19_;
		guint8* _tmp20_;
		GdkPixbuf* _tmp21_;
		gint _tmp22_;
		gint _tmp23_;
		GdkPixbuf* _tmp24_;
		gint _tmp25_;
		gint _tmp26_;
		GdkPixbuf* _tmp27_;
		gint _tmp28_;
		gint _tmp29_;
		ChamplainMarker* _tmp30_;
		ClutterImage* _tmp31_;
		ChamplainMarker* _tmp32_;
		GdkPixbuf* _tmp33_;
		gint _tmp34_;
		gint _tmp35_;
		GdkPixbuf* _tmp36_;
		gint _tmp37_;
		gint _tmp38_;
		ChamplainMarker* _tmp39_;
		GdkPixbuf* _tmp40_;
		gint _tmp41_;
		gint _tmp42_;
		ChamplainMarker* _tmp43_;
		GdkPixbuf* _tmp44_;
		gint _tmp45_;
		gint _tmp46_;
#line 44 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		_tmp15_ = gtk_icon_theme_get_default ();
#line 44 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		_tmp16_ = gtk_icon_theme_load_icon (_tmp15_, "mark-location-symbolic", 24, GTK_ICON_LOOKUP_FORCE_SIZE, &_inner_error_);
#line 44 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		poi = _tmp16_;
#line 44 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 241 "MapCity.c"
			goto __catch3_g_error;
		}
#line 45 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		_tmp17_ = (ClutterImage*) clutter_image_new ();
#line 45 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		img = _tmp17_;
#line 46 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		_tmp18_ = img;
#line 46 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		_tmp19_ = poi;
#line 46 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		_tmp20_ = gdk_pixbuf_get_pixels (_tmp19_);
#line 46 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		_tmp21_ = poi;
#line 46 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		_tmp22_ = gdk_pixbuf_get_width (_tmp21_);
#line 46 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		_tmp23_ = _tmp22_;
#line 46 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		_tmp24_ = poi;
#line 46 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		_tmp25_ = gdk_pixbuf_get_height (_tmp24_);
#line 46 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		_tmp26_ = _tmp25_;
#line 46 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		_tmp27_ = poi;
#line 46 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		_tmp28_ = gdk_pixbuf_get_rowstride (_tmp27_);
#line 46 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		_tmp29_ = _tmp28_;
#line 46 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		clutter_image_set_data (_tmp18_, _tmp20_, COGL_PIXEL_FORMAT_RGBA_8888, (guint) _tmp23_, (guint) _tmp26_, (guint) _tmp29_, &_inner_error_);
#line 46 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 46 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
			_g_object_unref0 (img);
#line 46 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
			_g_object_unref0 (poi);
#line 280 "MapCity.c"
			goto __catch3_g_error;
		}
#line 47 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		_tmp30_ = marker;
#line 47 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		_tmp31_ = img;
#line 47 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		clutter_actor_set_content ((ClutterActor*) _tmp30_, (ClutterContent*) _tmp31_);
#line 48 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		_tmp32_ = marker;
#line 48 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		_tmp33_ = poi;
#line 48 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		_tmp34_ = gdk_pixbuf_get_width (_tmp33_);
#line 48 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		_tmp35_ = _tmp34_;
#line 48 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		_tmp36_ = poi;
#line 48 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		_tmp37_ = gdk_pixbuf_get_height (_tmp36_);
#line 48 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		_tmp38_ = _tmp37_;
#line 48 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		clutter_actor_set_size ((ClutterActor*) _tmp32_, (gfloat) _tmp35_, (gfloat) _tmp38_);
#line 49 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		_tmp39_ = marker;
#line 49 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		_tmp40_ = poi;
#line 49 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		_tmp41_ = gdk_pixbuf_get_width (_tmp40_);
#line 49 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		_tmp42_ = _tmp41_;
#line 49 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		g_object_set ((ClutterActor*) _tmp39_, "translation-x", (gfloat) ((-_tmp42_) / 2), NULL);
#line 50 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		_tmp43_ = marker;
#line 50 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		_tmp44_ = poi;
#line 50 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		_tmp45_ = gdk_pixbuf_get_height (_tmp44_);
#line 50 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		_tmp46_ = _tmp45_;
#line 50 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		g_object_set ((ClutterActor*) _tmp43_, "translation-y", (gfloat) (-_tmp46_), NULL);
#line 43 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		_g_object_unref0 (img);
#line 43 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		_g_object_unref0 (poi);
#line 329 "MapCity.c"
	}
	goto __finally3;
	__catch3_g_error:
	{
		GError* e = NULL;
		GError* _tmp47_;
		const gchar* _tmp48_;
#line 43 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		e = _inner_error_;
#line 43 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		_inner_error_ = NULL;
#line 52 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		_tmp47_ = e;
#line 52 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		_tmp48_ = _tmp47_->message;
#line 52 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		g_debug ("MapCity.vala:52: %s", _tmp48_);
#line 43 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		_g_error_free0 (e);
#line 349 "MapCity.c"
	}
	__finally3:
#line 43 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 43 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		_g_object_unref0 (marker);
#line 43 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		_g_object_unref0 (pointer);
#line 43 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		_g_object_unref0 (embed);
#line 43 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		_g_object_unref0 (popbox);
#line 43 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 43 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		g_clear_error (&_inner_error_);
#line 43 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
		return NULL;
#line 368 "MapCity.c"
	}
#line 54 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	_tmp49_ = marker;
#line 54 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	_tmp50_ = lat;
#line 54 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	_tmp51_ = lon;
#line 54 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	champlain_location_set_location ((ChamplainLocation*) _tmp49_, _tmp50_, _tmp51_);
#line 55 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	_tmp52_ = pointer;
#line 55 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	_tmp53_ = marker;
#line 55 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	champlain_marker_layer_add_marker (_tmp52_, _tmp53_);
#line 56 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	_tmp54_ = self->priv->view;
#line 56 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	_tmp55_ = pointer;
#line 56 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	champlain_view_add_layer (_tmp54_, (ChamplainLayer*) _tmp55_);
#line 57 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	_tmp56_ = self->priv->view;
#line 57 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	clutter_actor_set_reactive ((ClutterActor*) _tmp56_, TRUE);
#line 58 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	_tmp57_ = self->priv->view;
#line 58 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	champlain_view_set_zoom_level (_tmp57_, (guint) 5);
#line 59 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	_tmp58_ = self->priv->view;
#line 59 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	champlain_view_set_kinetic_mode (_tmp58_, TRUE);
#line 60 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	_tmp59_ = self->priv->view;
#line 60 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	_tmp60_ = lat;
#line 60 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	_tmp61_ = lon;
#line 60 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	champlain_view_center_on (_tmp59_, _tmp60_, _tmp61_);
#line 61 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	_tmp62_ = popbox;
#line 61 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	_tmp63_ = embed;
#line 61 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	gtk_container_add ((GtkContainer*) _tmp62_, (GtkWidget*) _tmp63_);
#line 62 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	_tmp64_ = popbox;
#line 62 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	gtk_container_add ((GtkContainer*) self, (GtkWidget*) _tmp64_);
#line 26 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	_g_object_unref0 (marker);
#line 26 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	_g_object_unref0 (pointer);
#line 26 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	_g_object_unref0 (embed);
#line 26 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	_g_object_unref0 (popbox);
#line 26 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	return self;
#line 430 "MapCity.c"
}


WeatherUtilsMapCity* weather_utils_map_city_new (gdouble lat, gdouble lon, GtkWidget* relative) {
#line 26 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	return weather_utils_map_city_construct (WEATHER_UTILS_TYPE_MAP_CITY, lat, lon, relative);
#line 437 "MapCity.c"
}


static void weather_utils_map_city_class_init (WeatherUtilsMapCityClass * klass) {
#line 21 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	weather_utils_map_city_parent_class = g_type_class_peek_parent (klass);
#line 21 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	g_type_class_add_private (klass, sizeof (WeatherUtilsMapCityPrivate));
#line 21 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	G_OBJECT_CLASS (klass)->finalize = weather_utils_map_city_finalize;
#line 448 "MapCity.c"
}


static void weather_utils_map_city_instance_init (WeatherUtilsMapCity * self) {
#line 21 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	self->priv = WEATHER_UTILS_MAP_CITY_GET_PRIVATE (self);
#line 455 "MapCity.c"
}


static void weather_utils_map_city_finalize (GObject * obj) {
	WeatherUtilsMapCity * self;
#line 21 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, WEATHER_UTILS_TYPE_MAP_CITY, WeatherUtilsMapCity);
#line 23 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	_g_object_unref0 (self->priv->view);
#line 24 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	_g_object_unref0 (self->priv->stage);
#line 21 "/home/bitseater/NAS_drive/DEV/Proyectos/Weather/weather/src/Utils/MapCity.vala"
	G_OBJECT_CLASS (weather_utils_map_city_parent_class)->finalize (obj);
#line 469 "MapCity.c"
}


GType weather_utils_map_city_get_type (void) {
	static volatile gsize weather_utils_map_city_type_id__volatile = 0;
	if (g_once_init_enter (&weather_utils_map_city_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (WeatherUtilsMapCityClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) weather_utils_map_city_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (WeatherUtilsMapCity), 0, (GInstanceInitFunc) weather_utils_map_city_instance_init, NULL };
		GType weather_utils_map_city_type_id;
		weather_utils_map_city_type_id = g_type_register_static (gtk_popover_get_type (), "WeatherUtilsMapCity", &g_define_type_info, 0);
		g_once_init_leave (&weather_utils_map_city_type_id__volatile, weather_utils_map_city_type_id);
	}
	return weather_utils_map_city_type_id__volatile;
}



